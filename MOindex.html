<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>é«¦é«¦ MOMO HAIRSTYLE | å°å—å°ˆæ¥­é«®å»Šèˆ‡é ‚ç´šè­·é«®ç”¢å“</title>
    <meta name="description" content="å°å—å®‰å¹³å€æ¨è–¦é«®å»Š MOMO HAIRSTYLEã€‚æä¾›å°ˆæ¥­å‰ªé«®ã€æŸ“é«®ã€ç‡™é«®æœå‹™ï¼Œä¸¦è²©å”® R.O.8ã€æ—¥æœ¬AQUAç¢³é…¸æ³‰ç­‰é ‚ç´šæ²™é¾å°ˆç”¨æ´—é«®ç²¾èˆ‡è­·é«®ç”¢å“ã€‚">
    <meta name="keywords"
        content="ç¢³é…¸æ´—é«®, ç¢³é…¸æ³‰, ç¢³é…¸, æ—¥æœ¬ç¢³é…¸, å°å—é«®å»Š, æŸ“é«®, å°å—æŸ“é«®, å®‰å¹³å‰ªé«®, é ­çš®è­·ç†, é ­çš®é¤Šè­·, é ­çš®èª¿ç†, è­·é«®ç”¢å“, æ´—é«®ç²¾æ¨è–¦, MOMO HAIRSTYLE, R.O.8, æŸ“é«®æ¨è–¦">
    <meta name="author" content="MOMO HAIRSTYLE">

    <meta property="og:title" content="é«¦é«¦ MOMO HAIRSTYLE | æ‰“é€ å°ˆå±¬æ‚¨çš„ç¨ç‰¹é¢¨æ ¼">
    <meta property="og:description" content="åš´é¸é ‚ç´šæ²™é¾å°ˆç”¨ç”¢å“ï¼Œè®“å±…å®¶è­·ç†ä¹Ÿèƒ½æ“æœ‰æ²™é¾ç´šè³ªæ„Ÿã€‚è–èª•é™å®šå„ªæƒ çµ„åˆç†±è³£ä¸­ï¼">
    <meta property="og:image" content="/uploads/shop.db.jpeg">
    <meta property="og:type" content="website">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --primary: #000;
            --accent: #0250c7;
            --bg: #f4f4f4;
            --header-bg: #0250c7;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Noto Sans TC', sans-serif;
        }

        /* ========================================== */
        /* âœ¨ [æ²å‹•æ•æ‰] Scroll Snap æ™ºæ…§åˆ‡æ› âœ¨ */
        /* ========================================== */
        html {
            scroll-behavior: smooth;
            /* è®“æ‰€æœ‰æ»¾å‹•éƒ½æœ‰å¹³æ»‘å‹•ç•« */
        }

        /* åªæœ‰ç•¶åŠ ä¸Šé€™å€‹ class æ™‚ (åœ¨é¦–é æ¨¡å¼)ï¼Œæ‰æœƒå•Ÿå‹•ã€Œå¼·åˆ¶åˆ†é ã€åŠŸèƒ½ */
        html.snap-active {
            scroll-snap-type: y mandatory;
        }

        body {
            background: var(--bg);
            color: var(--primary);
            padding-bottom: 0;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Header è¨­å®š (åŠé€æ˜ç£¨ç ‚ç»ç’ƒæ•ˆæœ) */
        header {
            background: #0250c7;
            color: white;
            padding: 0 2rem;
            height: 80px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        header h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin: 0;
            font-size: 1.5rem;
            white-space: nowrap;
            font-weight: bold;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        nav a {
            color: white;
            font-weight: bold;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #ccc;
        }

        /* Dropdown ä¸‹æ‹‰é¸å–® */
        .dropdown {
            position: relative;
            display: flex;
            align-items: center;
            height: 100%;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-radius: 0 0 4px 4px;
            overflow: hidden;
            z-index: 1001;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-align: center;
            display: block;
        }

        .dropdown-content a:hover {
            background: #f1f1f1;
            color: var(--accent);
        }

        /* ========================================== */
        /* âœ¨ [è¦–å·®æ»¾å‹•] æ¯ä¸€é çš„å€å¡Šè¨­å®š âœ¨ */
        /* ========================================== */
        .story-section {
            position: relative;
            width: 100%;
            height: 100vh;
            /* ä½”æ»¿æ•´å€‹è¢å¹•é«˜åº¦ */

            /* èƒŒæ™¯å›ºå®šä¸å‹•ï¼Œå‰µé€ è¦–å·®æ•ˆæœ */
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            /* ç¢ºä¿èƒŒæ™¯åœ–å¡«æ»¿ */

            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;

            /* [æ²å‹•æ•æ‰] è¨­å®šé€™ä¸€å¡Šç‚ºä¸€å€‹ã€Œæ•æ‰é»ã€ */
            scroll-snap-align: start;
            scroll-snap-stop: always;
            /* å¼·åˆ¶åœåœ¨é€™è£¡ï¼Œä¸èƒ½ä¸€æ¬¡æ»‘é */
        }

        /* [å½±ç‰‡èƒŒæ™¯] å°ˆç”¨è¨­å®š */
        .video-section {
            position: relative;
            overflow: hidden;
            /* é˜²æ­¢å½±ç‰‡è¶…å‡ºç¯„åœ */
            /* èƒŒæ™¯åœ–å·²åœ¨ inline-style è¨­å®šï¼Œé€™è£¡ç¢ºä¿å®ƒèƒ½æ­£ç¢ºå¡«æ»¿ */
        }

        /* [å½±ç‰‡] çµ•å°å®šä½ï¼Œç¢ºä¿æ°¸é å¡«æ»¿å€å¡Šä¸”ä¸è®Šå½¢ */
        .bg-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            /* ç¢ºä¿ç½®ä¸­ */
            object-fit: cover;
            /* é—œéµï¼šè®“å½±ç‰‡å¡«æ»¿ç•«é¢ */
            z-index: 0;
            /* æ”¾åœ¨æœ€åº•å±¤ (èƒŒæ™¯åœ–ä¹‹ä¸Š) */
        }

        /* é®ç½©å±¤ (è®“æ–‡å­—åœ¨è¤‡é›œèƒŒæ™¯ä¸Šçœ‹å¾—æ¸…æ¥š) */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
            /* æ¯”å½±ç‰‡é«˜ä¸€å±¤ */
        }

        /* æ–‡å­—å…§å®¹å€ (åˆå§‹éš±è—ï¼Œé€é JS è§¸ç™¼æµ®ç¾å‹•ç•«) */
        .story-content {
            position: relative;
            z-index: 2;
            /* æœ€ä¸Šå±¤ */
            color: white;
            max-width: 800px;
            padding: 2rem;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease-out;
        }

        /* åŠ ä¸Š .visible å¾Œæ–‡å­—æœƒæµ®ç¾ */
        .story-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .story-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            letter-spacing: 2px;
        }

        .story-desc {
            font-size: 1.2rem;
            line-height: 1.8;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
            font-weight: 300;
        }

        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ–ï¼šå–æ¶ˆèƒŒæ™¯å›ºå®šï¼Œé¿å…æ•ˆèƒ½å•é¡Œ */
        @media (max-width: 768px) {
            .story-section {
                background-attachment: scroll;
            }

            .story-title {
                font-size: 2rem;
            }
        }

        /* ========================================== */
        /* âœ¨ [å•†å“åˆ—è¡¨å€] è¨­å®š âœ¨ */
        /* ========================================== */
        #product-section {
            /* è®“å•†å“å€é–‹é ­ä¹Ÿæˆç‚ºä¸€å€‹æ–·é»ï¼Œä¸¦é ç•™ Header ç©ºé–“ */
            scroll-snap-align: start;
            scroll-margin-top: 80px;
        }

        /* å•†å“ç¶²æ ¼èˆ‡å¡ç‰‡æ¨£å¼ */
        .container {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 1rem;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            position: relative;
            border: 1px solid #eee;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
        }

        .card-image-box {
            width: 100%;
            aspect-ratio: 1 / 1;
            position: relative;
            overflow: hidden;
            background-color: #ffffff;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }

        .card-img.active {
            opacity: 1;
            z-index: 2;
        }

        .product-info {
            padding: 1.2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background: white;
            z-index: 2;
        }

        .product-info h3 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .product-info p {
            color: #666;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .btn-buy {
            background: rgb(2, 80, 119);
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            margin-top: auto;
            font-size: 0.95rem;
            transition: background 0.2s;
        }

        .btn-buy:hover {
            background: var(--accent);
        }

        .cart-count {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            padding: 2px 8px;
            font-size: 0.8rem;
            margin-left: 5px;
        }
    </style>
</head>

<body>
    <header>
        <h1><a href="MOindex.html">MOMO HAIRSTYLE</a></h1>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="MOindex.html?cat=all"
                        style="padding-bottom: 30px; margin-bottom: -30px; display: inline-block;">æ‰€æœ‰å•†å“ â–¾</a>
                    <div class="dropdown-content">
                        <a href="MOindex.html?cat=æ´—é«®">æ´—é«®</a>
                        <a href="MOindex.html?cat=æŸ“é«®">æŸ“é«®</a>
                        <a href="MOindex.html?cat=ç‡™é«®">ç‡™é«®</a>
                        <a href="MOindex.html?cat=ä¿é¤Š">ä¿é¤Š</a>
                        <a href="MOindex.html?cat=ç…¥é‡‡">ç…¥é‡‡</a>
                        <a href="MOindex.html?cat=æ´»èƒ">æ´»æ·¬</a>
                        <a href="MOindex.html?cat=R.O.8">R.O.8</a>
                        <a href="MOindex.html?cat=S.I.G">S.I.G</a>
                        <a href="MOindex.html?cat=æ—¥æœ¬">æ—¥æœ¬</a>
                        <a href="MOindex.html?cat=éŸ“åœ‹">éŸ“åœ‹</a>
                        <a href="MOindex.html?cat=å…¶ä»–">å…¶ä»–</a>
                    </div>
                </li>
                <li><a href="MOabout.html">é—œæ–¼æˆ‘å€‘</a></li>
                <li><a href="MOcart.html">ğŸ›’ è³¼ç‰©è»Š <span id="cart-count" class="cart-count">0</span></a></li>
            </ul>
        </nav>
    </header>

    <div id="home-banner">

        <div class="story-section video-section" style="background-image: url('/uploads/shop.db.jpeg');">

            <video class="bg-video" muted loop playsinline autoplay>
                <source src="/uploads/slide1.mp4" type="video/mp4">
            </video>

            <div class="overlay"></div>
            <div class="story-content visible">
                <h2 class="story-title">WELCOME TO MOMOHAIRSTYLE</h2>
                <p class="story-desc">é«¦é«¦<br>æ„Ÿå—æœ€çœŸå¯¦çš„æ²™é¾é«”é©—</p>
            </div>
        </div>

        <div class="story-section" style="background-image: url('/uploads/2026.jpg');">
            <div class="overlay"></div>
            <div class="story-content">
                <h2 class="story-title">Happy New Year</h2>
                <p class="story-desc">éå¹´é™å®šå„ªæƒ çµ„åˆ<br>çµ¦è‡ªå·±ä¸€ä»½æœ€æº«æš–çš„ç¦®ç‰©</p>
            </div>
        </div>

        <div class="story-section" style="background-image: url('/uploads/aqua.jpg');">
            <div class="overlay"></div>
            <div class="story-content">
                <h2 class="story-title">æ—¥æœ¬é ‚ç´šç¢³é…¸æ³‰</h2>
                <p class="story-desc">æ·±å±¤æ¸…æ½”ï¼Œå–šé†’é ­çš®çš„å‘¼å¸<br>é«”é©—å‰æ‰€æœªæœ‰çš„æ¸…çˆ½èˆ‡è“¬é¬†</p>
            </div>
        </div>

        <div class="story-section" style="background-image: url('/uploads/MOMOHAIRSTYLEbanner.png');">
            <div class="overlay"></div>
            <div class="story-content">
                <h2 class="story-title">Professional Care</h2>
                <p class="story-desc">åš´é¸é ‚ç´šæ²™é¾å°ˆç”¨ç”¢å“<br>è®“å±…å®¶è­·ç†ä¹Ÿèƒ½æ“æœ‰æ²™é¾ç´šè³ªæ„Ÿ</p>
            </div>
        </div>

        <div class="story-section"
            style="background-image: url('/uploads/Gemini_Generated_Image_pmzt47pmzt47pmzt.png');">
            <div class="overlay"></div>
            <div class="story-content">
                <h2 class="story-title">More Styles</h2>
                <p class="story-desc">æ¢ç´¢æ›´å¤šé€ å‹<br>ç™¼ç¾ä¸ä¸€æ¨£çš„è‡ªå·±</p>
            </div>
        </div>

    </div>

    <main id="product-section" class="container" style="display: none;">
        <h2 id="page-title" style="text-align: center; margin-bottom: 2rem;">æ‰€æœ‰å•†å“</h2>
        <div id="product-grid" class="product-grid"></div>
    </main>

    <script>
        window.products = [];

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('momoCart')) || [];
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').innerText = count;
        }

        // ==========================================
        // âœ¨ [æ»¾å‹•åµæ¸¬] æ–‡å­—æµ®ç¾ & å½±ç‰‡æ’­æ”¾æ§åˆ¶ âœ¨
        // ==========================================
        function initScrollAnimation() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const video = entry.target.querySelector('video');

                    if (entry.isIntersecting) {
                        // 1. æ–‡å­—å‹•ç•«ï¼šåŠ ä¸Š .visible é¡åˆ¥è®“æ–‡å­—æµ®ä¸Šä¾†
                        const content = entry.target.querySelector('.story-content');
                        if (content) content.classList.add('visible');

                        // 2. å½±ç‰‡æ§åˆ¶ï¼šæ»‘åˆ°æ‰æ’­æ”¾ (ç¯€çœæ•ˆèƒ½)
                        if (video) {
                            video.play().catch(e => console.log("è‡ªå‹•æ’­æ”¾éœ€ä½¿ç”¨è€…äº’å‹•"));
                        }
                    } else {
                        // 3. å½±ç‰‡æ§åˆ¶ï¼šæ»‘èµ°å°±æš«åœ
                        if (video) video.pause();
                    }
                });
            }, { threshold: 0.3 }); // 30% é€²å…¥ç•«é¢æ™‚è§¸ç™¼

            document.querySelectorAll('.story-section').forEach(section => {
                observer.observe(section);
            });
        }

        async function fetchProducts() {
            try {
                const response = await fetch('/api/products');
                if (!response.ok) throw new Error('é€£ç·šå¤±æ•—');
                window.products = await response.json();
                render();
            } catch (error) {
                console.error(error);
                if (document.getElementById('product-section').style.display !== 'none') {
                    document.getElementById('product-grid').innerHTML = '<p style="text-align:center;">ç„¡æ³•é€£ç·šåˆ°ä¼ºæœå™¨ (è«‹ç¢ºèªç¶²è·¯é€£ç·š)</p>';
                }
            }
        }

        function render() {
            const params = new URLSearchParams(window.location.search);
            const category = params.get('cat');

            const bannerSection = document.getElementById('home-banner');
            const productSection = document.getElementById('product-section');
            const container = document.getElementById('product-grid');

            // [è‡ªå®šç¾©æ’åº] åˆ†é¡é †åºè¡¨
            const categoryOrder = [
                "æ´—é«®", "æŸ“é«®", "ç‡™é«®", "ä¿é¤Š", "ç…¥é‡‡",
                "æ´»èƒ", "R.O.8", "S.I.G", "æ—¥æœ¬", "éŸ“åœ‹", "å…¶ä»–"
            ];

            if (category) {
                // ==========================================
                // âœ¨ æ¨¡å¼ Aï¼šå•†å“åˆ—è¡¨æ¨¡å¼ (é—œé–‰æ²å‹•æ•æ‰) âœ¨
                // ==========================================
                // é—œéµï¼šç§»é™¤ snap-activeï¼Œæ¢å¾©ä¸€èˆ¬ç¶²é çš„è‡ªç”±æ»¾å‹•ï¼Œè§£æ±ºå›å½ˆå•é¡Œ
                document.documentElement.classList.remove('snap-active');

                bannerSection.style.display = 'none';
                productSection.style.display = 'block';

                let displayList = [];

                if (category === 'all') {
                    // âœ¨ æƒ…æ³ï¼šé»æ“Šã€Œæ‰€æœ‰å•†å“ã€ -> é¡¯ç¤ºå…¨éƒ¨ä¸¦æ’åº âœ¨
                    document.getElementById('page-title').innerText = "æ‰€æœ‰å•†å“";
                    displayList = [...window.products];

                    // åŸ·è¡Œæ’åºé‚è¼¯
                    displayList.sort((a, b) => {
                        const getOrderIndex = (product) => {
                            const cats = Array.isArray(product.category) ? product.category : [product.category];
                            let minIndex = 999;
                            cats.forEach(c => {
                                const idx = categoryOrder.indexOf(c);
                                if (idx !== -1 && idx < minIndex) minIndex = idx;
                            });
                            return minIndex;
                        };
                        return getOrderIndex(a) - getOrderIndex(b);
                    });
                } else {
                    // âœ¨ æƒ…æ³ï¼šé»æ“Šç‰¹å®šåˆ†é¡ -> åªéæ¿¾è©²åˆ†é¡ âœ¨
                    document.getElementById('page-title').innerText = `${category} ç³»åˆ—`;
                    displayList = window.products.filter(p => {
                        if (Array.isArray(p.category)) return p.category.includes(category);
                        return p.category === category;
                    });
                }

                if (displayList.length === 0) {
                    container.innerHTML = '<p style="grid-column: 1/-1; text-align:center;">æ­¤åˆ†é¡å°šç„¡å•†å“</p>';
                    return;
                }

                let html = '';
                displayList.forEach(p => {
                    let imageList = (p.images && p.images.length > 0) ? p.images : [p.image];
                    let posList = (p.image_positions && p.image_positions.length > 0) ? p.image_positions : Array(imageList.length).fill('center center');

                    let imgHtml = '';
                    imageList.forEach((src, index) => {
                        const activeClass = (index === 0) ? 'active' : '';
                        const positionStyle = `object-position: ${posList[index] || 'center center'};`;

                        // âœ¨ æ–°å¢ï¼šç¬¬ä¸€å¼µåœ–ç«‹å³è¼‰å…¥ï¼Œå…¶ä»–åœ–è¨­å®šç‚º lazy (å»¶é²è¼‰å…¥) âœ¨
                        // é€™æ¨£å¯ä»¥å¤§å¹…æ¸›å°‘ä¸€é–‹å§‹çš„ç¶²è·¯å¡è»Š
                        const loadingAttr = (index === 0) ? '' : 'loading="lazy"';

                        imgHtml += `<img src="${src}" alt="${p.name}" ${loadingAttr} class="card-img ${activeClass}" style="${positionStyle}" onerror="this.src='https://placehold.co/400x400?text=No+Image'">`;
                    });

                    html += `
                        <div class="product-card" onclick="window.location.href='MOproduct.html?id=${p.id}'">
                            <div class="card-image-box">${imgHtml}</div>
                            <div class="product-info">
                                <h3>${p.name}</h3>
                                <p style="font-size: 0.9rem;">é»æ“ŠæŸ¥çœ‹è©³æƒ…</p>
                                <span class="btn-buy">ç­è§£æ›´å¤š</span>
                            </div>
                        </div>
                    `;
                });
                container.innerHTML = html;
                setTimeout(setupHoverSlideshow, 100);

            } else {
                // ==========================================
                // âœ¨ æ¨¡å¼ Bï¼šé¦–é å½¢è±¡æ¨¡å¼ (é–‹å•Ÿæ²å‹•æ•æ‰) âœ¨
                // ==========================================
                // é—œéµï¼šåŠ å…¥ snap-activeï¼Œå•Ÿå‹•å¼·åˆ¶åˆ†é æ•ˆæœ
                document.documentElement.classList.add('snap-active');

                bannerSection.style.display = 'block';
                productSection.style.display = 'none';

                initScrollAnimation();
            }

            updateCartCount();
        }

        // å•†å“åœ–ç‰‡è¼ªæ’­æ•ˆæœ (æ»‘é¼ æ‡¸åœæ™‚)
        function setupHoverSlideshow() {
            const cards = document.querySelectorAll('.product-card');
            cards.forEach(card => {
                const imageBox = card.querySelector('.card-image-box');
                if (!imageBox) return;
                const images = imageBox.querySelectorAll('img');

                images.forEach((img, idx) => {
                    if (idx === 0) img.classList.add('active');
                    else img.classList.remove('active');
                });

                card.hoverInterval = null;

                if (images.length > 1) {
                    card.addEventListener('mouseenter', () => {
                        if (card.hoverInterval) return;
                        card.hoverInterval = setInterval(() => {
                            let activeIndex = -1;
                            images.forEach((img, idx) => { if (img.classList.contains('active')) activeIndex = idx; });
                            if (activeIndex === -1) activeIndex = 0;
                            images[activeIndex].classList.remove('active');
                            let nextIndex = (activeIndex + 1) % images.length;
                            images[nextIndex].classList.add('active');
                        }, 1500);
                    });
                    card.addEventListener('mouseleave', () => {
                        if (card.hoverInterval) { clearInterval(card.hoverInterval); card.hoverInterval = null; }
                        images.forEach(img => img.classList.remove('active'));
                        if (images[0]) images[0].classList.add('active');
                    });
                }
            });
        }

        window.onload = function () {
            fetchProducts();
        };
    </script>
</body>

</html>